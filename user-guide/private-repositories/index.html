



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.1.1">
    
    
      
        <title>Private Repositories - Argo CD - Declarative GitOps CD for Kubernetes</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.3020aac5.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.224b79ff.css">
      
      
        
        
        <meta name="theme-color" content="#009688">
      
    
    
      <script src="../../assets/javascripts/modernizr.01ccdecf.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Work+Sans:300,400,400i,700|">
        <style>body,input{font-family:"Work Sans","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../assets/versions.css">
    
    
      
        
<script>
  window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-105170809-2", "auto")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })
</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="teal" data-md-color-accent="">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#private-repositories" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="Argo CD - Declarative GitOps CD for Kubernetes" class="md-header-nav__button md-logo">
          
            <img src="../../assets/logo.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Argo CD - Declarative GitOps CD for Kubernetes
            </span>
            <span class="md-header-nav__topic">
              Private Repositories
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/argoproj/argo-cd/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../.." title="Argo CD - Declarative GitOps CD for Kubernetes" class="md-nav__button md-logo">
      
        <img src="../../assets/logo.png" width="48" height="48">
      
    </a>
    Argo CD - Declarative GitOps CD for Kubernetes
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/argoproj/argo-cd/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../understand_the_basics/" title="Understand The Basics" class="md-nav__link">
      Understand The Basics
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../core_concepts/" title="Core Concepts" class="md-nav__link">
      Core Concepts
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../getting_started/" title="Getting Started" class="md-nav__link">
      Getting Started
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Operator Manual
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Operator Manual
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../operator-manual/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../operator-manual/architecture/" title="Architectural Overview" class="md-nav__link">
      Architectural Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../operator-manual/declarative-setup/" title="Declarative Setup" class="md-nav__link">
      Declarative Setup
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../operator-manual/ingress/" title="Ingress Configuration" class="md-nav__link">
      Ingress Configuration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-5" type="checkbox" id="nav-5-5">
    
    <label class="md-nav__link" for="nav-5-5">
      User Management
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-5">
        User Management
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../operator-manual/user-management/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../operator-manual/user-management/auth0/" title="Auth0" class="md-nav__link">
      Auth0
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../operator-manual/user-management/microsoft/" title="Microsoft" class="md-nav__link">
      Microsoft
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../operator-manual/user-management/okta/" title="Okta" class="md-nav__link">
      Okta
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../operator-manual/user-management/onelogin/" title="OneLogin" class="md-nav__link">
      OneLogin
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../operator-manual/user-management/keycloak/" title="Keycloak" class="md-nav__link">
      Keycloak
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../operator-manual/user-management/openunison/" title="OpenUnison" class="md-nav__link">
      OpenUnison
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../operator-manual/user-management/google/" title="Google" class="md-nav__link">
      Google
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../operator-manual/rbac/" title="RBAC Configuration" class="md-nav__link">
      RBAC Configuration
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../operator-manual/security/" title="Security" class="md-nav__link">
      Security
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../operator-manual/cluster-bootstrapping/" title="Cluster Bootstrapping" class="md-nav__link">
      Cluster Bootstrapping
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../operator-manual/secret-management/" title="Secret Management" class="md-nav__link">
      Secret Management
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../operator-manual/high_availability/" title="High Availability" class="md-nav__link">
      High Availability
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../operator-manual/disaster_recovery/" title="Disaster Recovery" class="md-nav__link">
      Disaster Recovery
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../operator-manual/webhook/" title="Git Webhook Configuration" class="md-nav__link">
      Git Webhook Configuration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../operator-manual/health/" title="Resource Health" class="md-nav__link">
      Resource Health
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../operator-manual/custom_tools/" title="Custom Tooling" class="md-nav__link">
      Custom Tooling
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../operator-manual/custom-styles/" title="Custom Styles" class="md-nav__link">
      Custom Styles
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../operator-manual/metrics/" title="Metrics" class="md-nav__link">
      Metrics
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../operator-manual/notifications/" title="Notifications" class="md-nav__link">
      Notifications
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../operator-manual/troubleshooting/" title="Troubleshooting Tools" class="md-nav__link">
      Troubleshooting Tools
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-18" type="checkbox" id="nav-5-18">
    
    <label class="md-nav__link" for="nav-5-18">
      Server Configuration Parameters
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-18">
        Server Configuration Parameters
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../operator-manual/server-commands/argocd-server/" title="Argocd server" class="md-nav__link">
      Argocd server
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../operator-manual/server-commands/argocd-application-controller/" title="Argocd application controller" class="md-nav__link">
      Argocd application controller
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../operator-manual/server-commands/argocd-repo-server/" title="Argocd repo server" class="md-nav__link">
      Argocd repo server
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../operator-manual/server-commands/argocd-dex/" title="Argocd dex" class="md-nav__link">
      Argocd dex
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../operator-manual/server-commands/argocd-util/" title="argocd-util Tools" class="md-nav__link">
      argocd-util Tools
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-20" type="checkbox" id="nav-5-20">
    
    <label class="md-nav__link" for="nav-5-20">
      Upgrading
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-20">
        Upgrading
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../operator-manual/upgrading/overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../operator-manual/upgrading/1.7-1.8/" title="v1.7 to 1.8" class="md-nav__link">
      v1.7 to 1.8
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../operator-manual/upgrading/1.6-1.7/" title="v1.6 to 1.7" class="md-nav__link">
      v1.6 to 1.7
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../operator-manual/upgrading/1.5-1.6/" title="v1.5 to 1.6" class="md-nav__link">
      v1.5 to 1.6
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../operator-manual/upgrading/1.4-1.5/" title="v1.4 to 1.5" class="md-nav__link">
      v1.4 to 1.5
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../operator-manual/upgrading/1.3-1.4/" title="v1.3 to 1.4" class="md-nav__link">
      v1.3 to 1.4
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../operator-manual/upgrading/1.2-1.3/" title="v1.2 to 1.3" class="md-nav__link">
      v1.2 to 1.3
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../operator-manual/upgrading/1.1-1.2/" title="v1.1 to 1.2" class="md-nav__link">
      v1.1 to 1.2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../operator-manual/upgrading/1.0-1.1/" title="v1.0 to 1.1" class="md-nav__link">
      v1.0 to 1.1
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6" checked>
    
    <label class="md-nav__link" for="nav-6">
      User Guide
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        User Guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../application_sources/" title="Tools" class="md-nav__link">
      Tools
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../kustomize/" title="Kustomize" class="md-nav__link">
      Kustomize
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../helm/" title="Helm" class="md-nav__link">
      Helm
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ksonnet/" title="Ksonnet" class="md-nav__link">
      Ksonnet
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../jsonnet/" title="Jsonnet" class="md-nav__link">
      Jsonnet
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../config-management-plugins/" title="Plugins" class="md-nav__link">
      Plugins
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tool_detection/" title="Tool Detection" class="md-nav__link">
      Tool Detection
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../projects/" title="Projects" class="md-nav__link">
      Projects
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Private Repositories
      </label>
    
    <a href="./" title="Private Repositories" class="md-nav__link md-nav__link--active">
      Private Repositories
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#credentials" title="Credentials" class="md-nav__link">
    Credentials
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#https-username-and-password-credential" title="HTTPS Username And Password Credential" class="md-nav__link">
    HTTPS Username And Password Credential
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#access-token" title="Access Token" class="md-nav__link">
    Access Token
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tls-client-certificates-for-https-repositories" title="TLS Client Certificates for HTTPS repositories" class="md-nav__link">
    TLS Client Certificates for HTTPS repositories
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ssh-private-key-credential" title="SSH Private Key Credential" class="md-nav__link">
    SSH Private Key Credential
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#credential-templates" title="Credential templates" class="md-nav__link">
    Credential templates
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#self-signed-untrusted-tls-certificates" title="Self-signed &amp; Untrusted TLS Certificates" class="md-nav__link">
    Self-signed &amp; Untrusted TLS Certificates
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#managing-tls-certificates-using-the-cli" title="Managing TLS certificates using the CLI" class="md-nav__link">
    Managing TLS certificates using the CLI
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#managing-tls-certificates-using-the-argocd-web-ui" title="Managing TLS certificates using the ArgoCD web UI" class="md-nav__link">
    Managing TLS certificates using the ArgoCD web UI
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#managing-tls-certificates-using-declarative-configuration" title="Managing TLS certificates using declarative configuration" class="md-nav__link">
    Managing TLS certificates using declarative configuration
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#unknown-ssh-hosts" title="Unknown SSH Hosts" class="md-nav__link">
    Unknown SSH Hosts
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#managing-ssh-known-hosts-using-the-cli" title="Managing SSH Known Hosts using the CLI" class="md-nav__link">
    Managing SSH Known Hosts using the CLI
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#managing-ssh-known-hosts-data-using-the-argocd-web-ui" title="Managing SSH known hosts data using the ArgoCD web UI" class="md-nav__link">
    Managing SSH known hosts data using the ArgoCD web UI
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#managing-ssh-known-hosts-data-using-declarative-setup" title="Managing SSH known hosts data using declarative setup" class="md-nav__link">
    Managing SSH known hosts data using declarative setup
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#git-submodules" title="Git Submodules" class="md-nav__link">
    Git Submodules
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#declarative-configuration" title="Declarative Configuration" class="md-nav__link">
    Declarative Configuration
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../gpg-verification/" title="GnuPG verification" class="md-nav__link">
      GnuPG verification
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../auto_sync/" title="Automated Sync Policy" class="md-nav__link">
      Automated Sync Policy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../diffing/" title="Diffing Customization" class="md-nav__link">
      Diffing Customization
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../orphaned-resources/" title="Orphaned Resources Monitoring" class="md-nav__link">
      Orphaned Resources Monitoring
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../compare-options/" title="Compare Options" class="md-nav__link">
      Compare Options
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sync-options/" title="Sync Options" class="md-nav__link">
      Sync Options
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../parameters/" title="Parameter Overrides" class="md-nav__link">
      Parameter Overrides
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../build-environment/" title="Build Environment" class="md-nav__link">
      Build Environment
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tracking_strategies/" title="Tracking and Deployment Strategies" class="md-nav__link">
      Tracking and Deployment Strategies
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../resource_hooks/" title="Resource Hooks" class="md-nav__link">
      Resource Hooks
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../selective_sync/" title="Selective Sync" class="md-nav__link">
      Selective Sync
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sync-waves/" title="Sync Phases and Waves" class="md-nav__link">
      Sync Phases and Waves
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sync_windows/" title="Sync Windows" class="md-nav__link">
      Sync Windows
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ci_automation/" title="Automation from CI Pipelines" class="md-nav__link">
      Automation from CI Pipelines
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../app_deletion/" title="App Deletion" class="md-nav__link">
      App Deletion
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../best_practices/" title="Best Practices" class="md-nav__link">
      Best Practices
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../status-badge/" title="Status Badge" class="md-nav__link">
      Status Badge
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../external-url/" title="Add external URL" class="md-nav__link">
      Add external URL
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../commands/argocd/" title="Command Reference" class="md-nav__link">
      Command Reference
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Developer Guide
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Developer Guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../developer-guide/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../developer-guide/contributing/" title="Contribution guide" class="md-nav__link">
      Contribution guide
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../developer-guide/running-locally/" title="Running ArgoCD locally" class="md-nav__link">
      Running ArgoCD locally
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../developer-guide/debugging-remote-environment/" title="Debugging a Remote ArgoCD Environment" class="md-nav__link">
      Debugging a Remote ArgoCD Environment
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../developer-guide/api-docs/" title="API Docs" class="md-nav__link">
      API Docs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../developer-guide/test-e2e/" title="E2E Tests" class="md-nav__link">
      E2E Tests
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../developer-guide/dependencies/" title="Managing Dependencies" class="md-nav__link">
      Managing Dependencies
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../developer-guide/ci/" title="Continuous Integration (CI)" class="md-nav__link">
      Continuous Integration (CI)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../developer-guide/releasing/" title="Releasing" class="md-nav__link">
      Releasing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../developer-guide/site/" title="Site" class="md-nav__link">
      Site
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../developer-guide/faq/" title="Contribution FAQ" class="md-nav__link">
      Contribution FAQ
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../faq/" title="FAQ" class="md-nav__link">
      FAQ
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../security_considerations/" title="Security Considerations" class="md-nav__link">
      Security Considerations
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../SUPPORT/" title="Support" class="md-nav__link">
      Support
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../roadmap/" title="Roadmap" class="md-nav__link">
      Roadmap
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="https://github.com/argoproj/argo-cd/releases" title="Releases ⧉" class="md-nav__link">
      Releases ⧉
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="https://blog.argoproj.io/" title="Blog ⧉" class="md-nav__link">
      Blog ⧉
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#credentials" title="Credentials" class="md-nav__link">
    Credentials
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#https-username-and-password-credential" title="HTTPS Username And Password Credential" class="md-nav__link">
    HTTPS Username And Password Credential
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#access-token" title="Access Token" class="md-nav__link">
    Access Token
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tls-client-certificates-for-https-repositories" title="TLS Client Certificates for HTTPS repositories" class="md-nav__link">
    TLS Client Certificates for HTTPS repositories
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ssh-private-key-credential" title="SSH Private Key Credential" class="md-nav__link">
    SSH Private Key Credential
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#credential-templates" title="Credential templates" class="md-nav__link">
    Credential templates
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#self-signed-untrusted-tls-certificates" title="Self-signed &amp; Untrusted TLS Certificates" class="md-nav__link">
    Self-signed &amp; Untrusted TLS Certificates
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#managing-tls-certificates-using-the-cli" title="Managing TLS certificates using the CLI" class="md-nav__link">
    Managing TLS certificates using the CLI
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#managing-tls-certificates-using-the-argocd-web-ui" title="Managing TLS certificates using the ArgoCD web UI" class="md-nav__link">
    Managing TLS certificates using the ArgoCD web UI
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#managing-tls-certificates-using-declarative-configuration" title="Managing TLS certificates using declarative configuration" class="md-nav__link">
    Managing TLS certificates using declarative configuration
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#unknown-ssh-hosts" title="Unknown SSH Hosts" class="md-nav__link">
    Unknown SSH Hosts
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#managing-ssh-known-hosts-using-the-cli" title="Managing SSH Known Hosts using the CLI" class="md-nav__link">
    Managing SSH Known Hosts using the CLI
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#managing-ssh-known-hosts-data-using-the-argocd-web-ui" title="Managing SSH known hosts data using the ArgoCD web UI" class="md-nav__link">
    Managing SSH known hosts data using the ArgoCD web UI
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#managing-ssh-known-hosts-data-using-declarative-setup" title="Managing SSH known hosts data using declarative setup" class="md-nav__link">
    Managing SSH known hosts data using declarative setup
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#git-submodules" title="Git Submodules" class="md-nav__link">
    Git Submodules
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#declarative-configuration" title="Declarative Configuration" class="md-nav__link">
    Declarative Configuration
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/argoproj/argo-cd/edit/master/docs/user-guide/private-repositories.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="private-repositories">Private Repositories<a class="headerlink" href="#private-repositories" title="Permanent link">&para;</a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Some Git hosters - notably GitLab and possibly on-premise GitLab instances as well - require you to
specify the <code>.git</code> suffix in the repository URL, otherwise they will send a HTTP 301 redirect to the
repository URL suffixed with <code>.git</code>. ArgoCD will <strong>not</strong> follow these redirects, so you have to
adapt your repository URL to be suffixed with <code>.git</code>.</p>
</div>
<h2 id="credentials">Credentials<a class="headerlink" href="#credentials" title="Permanent link">&para;</a></h2>
<p>If application manifests are located in private repository then repository credentials have to be configured. Argo CD supports both HTTP and SSH Git credentials.</p>
<h3 id="https-username-and-password-credential">HTTPS Username And Password Credential<a class="headerlink" href="#https-username-and-password-credential" title="Permanent link">&para;</a></h3>
<p>Private repositories that require a username and password typically have a URL that start with <code>https://</code> rather than <code>git@</code> or <code>ssh://</code>. </p>
<p>Credentials can be configured using Argo CD CLI:</p>
<div class="codehilite"><pre><span></span>argocd repo add https://github.com/argoproj/argocd-example-apps --username &lt;username&gt; --password &lt;password&gt;
</pre></div>


<p>or UI:</p>
<blockquote>
<p>v1.2 or later</p>
</blockquote>
<ol>
<li>
<p>Navigate to <code>Settings/Repositories</code></p>
<p><img alt="connect repo overview" src="../../assets/repo-add-overview.png" /></p>
</li>
<li>
<p>Click <code>Connect Repo using HTTPS</code> button and enter credentials </p>
<p><img alt="connect repo" src="../../assets/repo-add-https.png" /></p>
<p><em>Note: username in screenshot is for illustration purposes only , we have no relationship to this GitHub account should it exist.</em></p>
</li>
<li>
<p>Click <code>Connect</code> to test the connection and have the repository added </p>
</li>
</ol>
<blockquote>
<p>earlier than v1.2</p>
</blockquote>
<ol>
<li>Navigate to <code>Settings/Repositories</code></li>
<li>Click <code>Connect Repo</code> button and enter HTTP credentials</li>
</ol>
<p><img alt="connect repo" src="../../assets/connect-repo.png" /></p>
<h4 id="access-token">Access Token<a class="headerlink" href="#access-token" title="Permanent link">&para;</a></h4>
<p>Instead of using username and password you might use access token. Following instructions of your Git hosting service to generate the token:</p>
<ul>
<li><a href="https://help.github.com/en/articles/creating-a-personal-access-token-for-the-command-line">Github</a></li>
<li><a href="https://docs.gitlab.com/ee/user/project/deploy_tokens/">Gitlab</a></li>
<li><a href="https://confluence.atlassian.com/bitbucketserver/personal-access-tokens-939515499.html">Bitbucket</a></li>
</ul>
<p>Then, connect the repository using any non-empty string as username and the access token value as a password. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For some services, you might have to specify your account name as the username instead of any string.</p>
</div>
<h3 id="tls-client-certificates-for-https-repositories">TLS Client Certificates for HTTPS repositories<a class="headerlink" href="#tls-client-certificates-for-https-repositories" title="Permanent link">&para;</a></h3>
<blockquote>
<p>v1.2 and later</p>
</blockquote>
<p>If your repository server requires you to use TLS client certificates for authentication, you can configure ArgoCD repositories to make use of them. For this purpose, <code>--tls-client-cert-path</code> and <code>--tls-client-cert-key-path</code> switches to the <code>argocd repo add</code> command can be used to specify the files on your local system containing client certificate and the corresponding key, respectively:</p>
<div class="codehilite"><pre><span></span>argocd repo add https://repo.example.com/repo.git --tls-client-cert-path ~/mycert.crt --tls-client-cert-key-path ~/mycert.key
</pre></div>


<p>Of course, you can also use this in combination with the <code>--username</code> and <code>--password</code> switches, if your repository server should require this. The options <code>--tls-client-cert-path</code> and <code>--tls-client-cert-key-path</code> must always be specified together.</p>
<p>Your TLS client certificate and corresponding key can also be configured using the UI, see instructions for adding Git repos using HTTPS.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Your client certificate and key data must be in PEM format, other formats (such as PKCS12) are not understood. Also make sure that your certificate's key is not password protected, otherwise it cannot be used by ArgoCD.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When pasting TLS client certificate and key in the text areas in the web UI, make sure they contain no unintended line breaks or additional characters.</p>
</div>
<h3 id="ssh-private-key-credential">SSH Private Key Credential<a class="headerlink" href="#ssh-private-key-credential" title="Permanent link">&para;</a></h3>
<p>Private repositories that require an SSH private key have a URL that typically start with <code>git@</code> or <code>ssh://</code> rather than <code>https://</code>.  </p>
<blockquote>
<p>v1.2 or later</p>
</blockquote>
<p>You can configure your Git repository using HTTPS either using the CLI or the UI.</p>
<p>Using the CLI:</p>
<div class="codehilite"><pre><span></span>argocd repo add git@github.com:argoproj/argocd-example-apps.git --ssh-private-key-path ~/.ssh/id_rsa
</pre></div>


<p>Using the UI:</p>
<ol>
<li>
<p>Navigate to <code>Settings/Repositories</code></p>
<p><img alt="connect repo overview" src="../../assets/repo-add-overview.png" /></p>
</li>
<li>
<p>Click <code>Connect Repo using SSH</code> button, enter the URL and paste the SSH private key </p>
<p><img alt="connect repo" src="../../assets/repo-add-ssh.png" /></p>
</li>
<li>
<p>Click <code>Connect</code> to test the connection and have the repository added </p>
</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When pasting SSH private key in the UI, make sure there are no unintended line breaks or additional characters in the text area</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When your SSH repository is served from a non-standard port, you have to use <code>ssh://</code>-style URLs to specify your repository. The scp-style <code>git@yourgit.com:yourrepo</code> URLs do <strong>not</strong> support port specification, and will treat any port number as part of the repository's path.</p>
</div>
<blockquote>
<p>earlier than v1.2</p>
</blockquote>
<p>The Argo CD UI don't support configuring SSH credentials. The SSH credentials can only be configured using the Argo CD CLI:</p>
<div class="codehilite"><pre><span></span>argocd repo add git@github.com:argoproj/argocd-example-apps.git --ssh-private-key-path ~/.ssh/id_rsa
</pre></div>


<h2 id="credential-templates">Credential templates<a class="headerlink" href="#credential-templates" title="Permanent link">&para;</a></h2>
<blockquote>
<p>previous to v1.4</p>
</blockquote>
<p>Credential templates are available only via declarative setup, see <a href="../../operator-manual/declarative-setup#repository-credentials">Repository credentials</a> in Operator Manual.</p>
<blockquote>
<p>v1.4 and later</p>
</blockquote>
<p>You can also set up credentials to serve as templates for connecting repositories, without having to repeat credential configuration. For example, if you setup credential templates for the URL prefix <code>https://github.com/argoproj</code>, these credentials will be used for all repositories with this URL as prefix (e.g. <code>https://github.com/argoproj/argocd-example-apps</code>) that do not have their own credentials configured.</p>
<p>To set up a credential template using the Web UI, simply fill in all relevant credential information in the <strong>Connect repo using SSH</strong> or <strong>Connect repo using HTTPS</strong> dialogues (as described above), but select <strong>Save as credential template</strong> instead of <strong>Connect</strong> to save the credential template. Be sure to only enter the prefix URL (i.e. <code>https://github.com/argoproj</code>) instead of the complete repository URL (i.e. <code>https://github.com/argoproj/argocd-example-apps</code>) in the field <strong>Repository URL</strong></p>
<p>To manage credential templates using the CLI, use the <code>repocreds</code> sub-command, for example <code>argocd repocreds add https://github.com/argoproj --username youruser --password yourpass</code> would setup a credential template for the URL prefix <code>https://github.com/argoproj</code> using the specified username/password combination. Similar to the <code>repo</code> sub-command, you can also list and remove repository credentials using the <code>argocd repocreds list</code> and <code>argocd repocreds rm</code> commands, respectively.</p>
<p>In order for ArgoCD to use a credential template for any given repository, the following conditions must be met:</p>
<ul>
<li>The repository must either not be configured at all, or if configured, must not contain any credential information </li>
<li>The URL configured for a credential template (e.g. <code>https://github.com/argoproj</code>) must match as prefix for the repository URL (e.g. <code>https://github.com/argoproj/argocd-example-apps</code>). </li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Repositories that require authentication can be added using CLI or Web UI without specifying credentials only after a matching repository credential has been set up</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Matching credential template URL prefixes is done on a <em>best match</em> effort, so the longest (best) match will take precedence. The order of definition is not important, as opposed to pre v1.4 configuration.</p>
</div>
<p>The following is an example CLI session, depicting repository credential set-up:</p>
<div class="codehilite"><pre><span></span><span class="c1"># Try to add a private repository without specifying credentials, will fail</span>
$ argocd repo add https://docker-build/repos/argocd-example-apps
FATA<span class="o">[</span><span class="m">0000</span><span class="o">]</span> rpc error: <span class="nv">code</span> <span class="o">=</span> Unknown <span class="nv">desc</span> <span class="o">=</span> authentication required 

<span class="c1"># Setup a credential template for all repos under https://docker-build/repos</span>
$ argocd repocreds add https://docker-build/repos --username <span class="nb">test</span> --password <span class="nb">test</span>
repository credentials <span class="k">for</span> <span class="s1">&#39;https://docker-build/repos&#39;</span> added

<span class="c1"># Repeat first step, add repo without specifying credentials</span>
<span class="c1"># URL for template matches, will succeed</span>
$ argocd repo add https://docker-build/repos/argocd-example-apps
repository <span class="s1">&#39;https://docker-build/repos/argocd-example-apps&#39;</span> added

<span class="c1"># Add another repo under https://docker-build/repos, specifying invalid creds</span>
<span class="c1"># Will fail, because it will not use the template (has own creds)</span>
$ argocd repo add https://docker-build/repos/example-apps-part-two --username <span class="nb">test</span> --password invalid
FATA<span class="o">[</span><span class="m">0000</span><span class="o">]</span> rpc error: <span class="nv">code</span> <span class="o">=</span> Unknown <span class="nv">desc</span> <span class="o">=</span> authentication required
</pre></div>


<h2 id="self-signed-untrusted-tls-certificates">Self-signed &amp; Untrusted TLS Certificates<a class="headerlink" href="#self-signed-untrusted-tls-certificates" title="Permanent link">&para;</a></h2>
<blockquote>
<p>v1.2 or later</p>
</blockquote>
<p>If you are connecting a repository on a HTTPS server using a self-signed certificate, or a certificate signed by a custom Certificate Authority (CA) which are not known to ArgoCD, the repository will not be added due to security reasons. This is indicated by an error message such as <code>x509: certificate signed by unknown authority</code>.</p>
<ol>
<li>
<p>You can let ArgoCD connect the repository in an insecure way, without verifying the server's certificate at all. This can be accomplished by using the <code>--insecure-skip-server-verification</code> flag when adding the repository with the <code>argocd</code> CLI utility. However, this should be done only for non-production setups, as it imposes a serious security issue through possible man-in-the-middle attacks.</p>
</li>
<li>
<p>You can configure ArgoCD to use a custom certificate for the verification of the server's certificate using the <code>cert add-tls</code> command of the <code>argocd</code> CLI utility. This is the recommended method and suitable for production use. In order to do so, you will need the server's certificate, or the certificate of the CA used to sign the server's certificate, in PEM format.</p>
</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For invalid server certificates, such as those without matching server name, or those that are expired, adding a CA certificate will not help. In this case, your only option will be to use the <code>--insecure-skip-server-verification</code> flag to connect the repository. You are strongly urged to use a valid certificate on the repository server, or to urge the server's administrator to replace the faulty certificate with a valid one.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>TLS certificates are configured on a per-server, not on a per-repository basis. If you connect multiple repositories from the same server, you only have to configure the certificates once for this server.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It can take up to a couple of minutes until the changes performed by the <code>argocd cert</code> command are propagated across your cluster, depending on your Kubernetes setup.</p>
</div>
<h3 id="managing-tls-certificates-using-the-cli">Managing TLS certificates using the CLI<a class="headerlink" href="#managing-tls-certificates-using-the-cli" title="Permanent link">&para;</a></h3>
<p>You can list all configured TLS certificates by using the <code>argocd cert list</code> command using the <code>--cert-type https</code> modifier:</p>
<div class="codehilite"><pre><span></span>$ argocd cert list --cert-type https
HOSTNAME      TYPE   SUBTYPE  FINGERPRINT/SUBJECT
docker-build  https  rsa      <span class="nv">CN</span><span class="o">=</span>ArgoCD Test CA
localhost     https  rsa      <span class="nv">CN</span><span class="o">=</span>localhost
</pre></div>


<p>Example for adding  a HTTPS repository to ArgoCD without verifying the server's certificate (<strong>Caution:</strong> This is <strong>not</strong> recommended for production use):</p>
<div class="codehilite"><pre><span></span>argocd repo add --insecure-skip-server-verification https://git.example.com/test-repo
</pre></div>


<p>Example for adding a CA certificate contained in file <code>~/myca-cert.pem</code> to properly verify the repository server:</p>
<div class="codehilite"><pre><span></span>argocd cert add-tls git.example.com --from ~/myca-cert.pem
argocd repo add https://git.example.com/test-repo
</pre></div>


<p>You can also add more than one PEM for a server by concatenating them into the input stream. This might be useful if the repository server is about to replace the server certificate, possibly with one signed by a different CA. This way, you can have the old (current) as well as the new (future) certificate co-existing. If you already have the old certificate configured, use the <code>--upsert</code> flag and add the old and the new one in a single run:</p>
<div class="codehilite"><pre><span></span>cat cert1.pem cert2.pem <span class="p">|</span> argocd cert add-tls git.example.com --upsert
</pre></div>


<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To replace an existing certificate for a server, use the <code>--upsert</code> flag to the <code>cert add-tls</code> CLI command. </p>
</div>
<p>Finally, TLS certificates can be removed using the <code>argocd cert rm</code> command with the <code>--cert-type https</code> modifier:</p>
<div class="codehilite"><pre><span></span>argocd cert rm --cert-type https localhost
</pre></div>


<h3 id="managing-tls-certificates-using-the-argocd-web-ui">Managing TLS certificates using the ArgoCD web UI<a class="headerlink" href="#managing-tls-certificates-using-the-argocd-web-ui" title="Permanent link">&para;</a></h3>
<p>It is possible to add and remove TLS certificates using the ArgoCD web UI:</p>
<ol>
<li>
<p>In the navigation pane to the left, click on "Settings" and choose "Certificates" from the settings menu</p>
</li>
<li>
<p>The following page lists all currently configured certificates and provides you with the option to add either a new TLS certificate or SSH known entries: </p>
<p><img alt="manage certificates" src="../../assets/cert-management-overview.png" /></p>
</li>
<li>
<p>Click on "Add TLS certificate", fill in relevant data and click on "Create". Take care to specify only the FQDN of your repository server (not the URL) and that you C&amp;P the complete PEM of your TLS certificate into the text area field, including the <code>----BEGIN CERTIFICATE----</code> and <code>----END CERTIFICATE----</code> lines:</p>
<p><img alt="add tls certificate" src="../../assets/cert-management-add-tls.png" /></p>
</li>
<li>
<p>To remove a certificate, click on the small three-dotted button next to the certificate entry, select "Remove" from the pop-up menu and confirm the removal in the following dialogue.</p>
<p><img alt="remove certificate" src="../../assets/cert-management-remove.png" /></p>
</li>
</ol>
<h3 id="managing-tls-certificates-using-declarative-configuration">Managing TLS certificates using declarative configuration<a class="headerlink" href="#managing-tls-certificates-using-declarative-configuration" title="Permanent link">&para;</a></h3>
<p>You can also manage TLS certificates in a declarative, self-managed ArgoCD setup. All TLS certificates are stored in the ConfigMap object <code>argocd-tls-cert-cm</code>.
Please refer to the <a href="../../operator-manual/declarative-setup/#repositories-using-self-signed-tls-certificates-or-are-signed-by-custom-ca">Operator Manual</a> for more information.</p>
<blockquote>
<p>Before v1.2</p>
</blockquote>
<p>We do not currently have first-class support for this. See <a href="https://github.com/argoproj/argo-cd/issues/1513">#1513</a>.</p>
<p>As a work-around, you can customize your Argo CD image. See <a href="https://github.com/argoproj/argo-cd/issues/1344#issuecomment-479811810">#1344</a></p>
<h2 id="unknown-ssh-hosts">Unknown SSH Hosts<a class="headerlink" href="#unknown-ssh-hosts" title="Permanent link">&para;</a></h2>
<p>If you are using a privately hosted Git service over SSH, then you have the following  options:</p>
<blockquote>
<p>v1.2 or later</p>
</blockquote>
<ol>
<li>
<p>You can let ArgoCD connect the repository in an insecure way, without verifying the server's SSH host key at all. This can be accomplished by using the <code>--insecure-skip-server-verification</code> flag when adding the repository with the <code>argocd</code> CLI utility. However, this should be done only for non-production setups, as it imposes a serious security issue through possible man-in-the-middle attacks.</p>
</li>
<li>
<p>You can make the server's SSH public key known to ArgoCD by using the <code>cert add-ssh</code> command of the <code>argocd</code> CLI utility. This is the recommended method and suitable for production use. In order to do so, you will need the server's SSH public host key, in the <code>known_hosts</code> format understood by <code>ssh</code>. You can get the server's public SSH host key e.g. by using the <code>ssh-keyscan</code> utility.</p>
</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It can take up to a couple of minutes until the changes performed by the <code>argocd cert</code> command are propagated across your cluster, depending on your Kubernetes setup.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When importing SSH known hosts key from a <code>known_hosts</code> file, the hostnames or IP addresses in the input data must <strong>not</strong> be hashed. If your <code>known_hosts</code> file contains hashed entries, it cannot be used as input source for adding SSH known hosts - neither in the CLI nor in the UI. If you absolutely wish to use hashed known hosts data, the only option will be using declarative setup (see below). Be aware that this will break CLI and UI certificate management, so it is generally not recommended.</p>
</div>
<h3 id="managing-ssh-known-hosts-using-the-cli">Managing SSH Known Hosts using the CLI<a class="headerlink" href="#managing-ssh-known-hosts-using-the-cli" title="Permanent link">&para;</a></h3>
<p>You can list all configured SSH known host entries using the <code>argocd cert list</code> command with the <code>--cert-type ssh</code> modifier:</p>
<div class="codehilite"><pre><span></span>$ argocd cert list --cert-type ssh
HOSTNAME                 TYPE  SUBTYPE              FINGERPRINT/SUBJECT
bitbucket.org            ssh   ssh-rsa              SHA256:zzXQOXSRBEiUtuE8AikJYKwbHaxvSc0ojez9YXaGp1A
github.com               ssh   ssh-rsa              SHA256:nThbg6kXUpJWGl7E1IGOCspRomTxdCARLviKw6E5SY8
gitlab.com               ssh   ecdsa-sha2-nistp256  SHA256:HbW3g8zUjNSksFbqTiUWPWg2Bq1x8xdGUrliXFzSnUw
gitlab.com               ssh   ssh-ed25519          SHA256:eUXGGm1YGsMAS7vkcx6JOJdOGHPem5gQp4taiCfCLB8
gitlab.com               ssh   ssh-rsa              SHA256:ROQFvPThGrW4RuWLoL9tq9I9zJ42fK4XywyRtbOz/EQ
ssh.dev.azure.com        ssh   ssh-rsa              SHA256:ohD8VZEXGWo6Ez8GSEJQ9WpafgLFsOfLOtGGQCQo6Og
vs-ssh.visualstudio.com  ssh   ssh-rsa              SHA256:ohD8VZEXGWo6Ez8GSEJQ9WpafgLFsOfLOtGGQCQo6Og
</pre></div>


<p>For adding SSH known host entries, the <code>argocd cert add-ssh</code> command can be used. You can either add from a file (using the <code>--from &lt;file&gt;</code> modifier), or by reading <code>stdin</code> when the <code>--batch</code> modifier was specified. In both cases, input must be in <code>known_hosts</code> format as understood by the OpenSSH client.</p>
<p>Example for adding all available SSH public host keys for a server to ArgoCD, as collected by <code>ssh-keyscan</code>:</p>
<div class="codehilite"><pre><span></span>ssh-keyscan server.example.com <span class="p">|</span> argocd cert add-ssh --batch 
</pre></div>


<p>Example for importing an existing <code>known_hosts</code> file to ArgoCD:</p>
<div class="codehilite"><pre><span></span>argocd cert add-ssh --batch --from /etc/ssh/ssh_known_hosts
</pre></div>


<p>Finally, SSH known host entries can be removed using the <code>argocd cert rm</code> command with the <code>--cert-type ssh</code> modifier:</p>
<div class="codehilite"><pre><span></span>argocd cert rm bitbucket.org --cert-type ssh
</pre></div>


<p>If you have multiple SSH known host entries for a given host with different key sub-types (e.g. as for gitlab.com in the example above, there are keys of sub-types <code>ssh-rsa</code>, <code>ssh-ed25519</code> and <code>ecdsa-sha2-nistp256</code>) and you want to only remove one of them, you can further narrow down the selection using the <code>--cert-sub-type</code> modifier:</p>
<div class="codehilite"><pre><span></span>argocd cert rm gitlab.com --cert-type ssh --cert-sub-type ssh-ed25519
</pre></div>


<h3 id="managing-ssh-known-hosts-data-using-the-argocd-web-ui">Managing SSH known hosts data using the ArgoCD web UI<a class="headerlink" href="#managing-ssh-known-hosts-data-using-the-argocd-web-ui" title="Permanent link">&para;</a></h3>
<p>It is possible to add and remove SSH known hosts entries using the ArgoCD web UI:</p>
<ol>
<li>
<p>In the navigation pane to the left, click on "Settings" and choose "Certificates" from the settings menu</p>
</li>
<li>
<p>The following page lists all currently configured certificates and provides you with the option to add either a new TLS certificate or SSH known entries: </p>
<p><img alt="manage certificates" src="../../assets/cert-management-overview.png" /></p>
</li>
<li>
<p>Click on "Add SSH known hosts" and paste your SSH known hosts data in the following mask. <strong>Important</strong>: Make sure there are no line breaks in the entries (key data) when you paste the data. Afterwards, click on "Create".</p>
<p><img alt="manage ssh known hosts" src="../../assets/cert-management-add-ssh.png" /></p>
</li>
<li>
<p>To remove a certificate, click on the small three-dotted button next to the certificate entry, select "Remove" from the pop-up menu and confirm the removal in the following dialogue.</p>
<p><img alt="remove certificate" src="../../assets/cert-management-remove.png" /></p>
</li>
</ol>
<h3 id="managing-ssh-known-hosts-data-using-declarative-setup">Managing SSH known hosts data using declarative setup<a class="headerlink" href="#managing-ssh-known-hosts-data-using-declarative-setup" title="Permanent link">&para;</a></h3>
<p>You can also manage SSH known hosts entries in a declarative, self-managed ArgoCD setup. All SSH public host keys are stored in the ConfigMap object <code>argocd-ssh-known-hosts-cm</code>. For more details, please refer to the <a href="../../operator-manual/declarative-setup/#ssh-known-host-public-keys">Operator Manual</a></p>
<blockquote>
<p>Before v1.2</p>
</blockquote>
<p>(1) You can customize the Argo CD Docker image by adding the host's SSH public key to <code>/etc/ssh/ssh_known_hosts</code>. Additional entries to this file can be generated using the <code>ssh-keyscan</code> utility (e.g. <code>ssh-keyscan your-private-git-server.com</code>. For more information see <a href="https://github.com/argoproj/argo-cd/tree/master/examples/known-hosts">example</a> which demonstrates how <code>/etc/ssh/ssh_known_hosts</code> can be customized.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code>/etc/ssh/ssh_known_hosts</code> should include Git host on each Argo CD deployment as well as on a computer where <code>argocd repo add</code> is executed. After resolving issue
<a href="https://github.com/argoproj/argo-cd/issues/1514">#1514</a> only <code>argocd-repo-server</code> deployment has to be customized.</p>
</div>
<p>(1) Add repository using Argo CD CLI and <code>--insecure-ignore-host-key</code> flag:</p>
<div class="codehilite"><pre><span></span>argocd repo add git@github.com:argoproj/argocd-example-apps.git --ssh-private-key-path ~/.ssh/id_rsa --insecure-ignore-host-key 
</pre></div>


<div class="admonition warning">
<p class="admonition-title">Don't use in production</p>
<p>The <code>--insecure-ignore-host-key</code> should not be used in production as this is subject to man-in-the-middle attacks. </p>
</div>
<div class="admonition warning">
<p class="admonition-title">This does not work for Kustomize remote bases or custom plugins</p>
<p>For Kustomize support, see <a href="https://github.com/argoproj/argo-cd/issues/827">#827</a>.</p>
</div>
<h2 id="git-submodules">Git Submodules<a class="headerlink" href="#git-submodules" title="Permanent link">&para;</a></h2>
<blockquote>
<p>v1.4 or later</p>
</blockquote>
<p>Submodules are supported and will be picked up automatically. If the submodule repository requires authentication then the credentials will need to match the credentials of the parent repository. Set ARGOCD_GIT_MODULES_ENABLED=false to disable submodule support</p>
<h2 id="declarative-configuration">Declarative Configuration<a class="headerlink" href="#declarative-configuration" title="Permanent link">&para;</a></h2>
<p>See <a href="../../operator-manual/declarative-setup#Repositories">declarative setup</a></p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../projects/" title="Projects" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Projects
              </span>
            </div>
          </a>
        
        
          <a href="../gpg-verification/" title="GnuPG verification" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                GnuPG verification
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.dc02f8ce.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
        <script src="../../assets/versions.js"></script>
      
    
  </body>
</html>